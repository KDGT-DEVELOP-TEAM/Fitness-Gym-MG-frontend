# サイドバーメニュー項目の追加方法

このドキュメントでは、各ページのサイドバーにメニュー項目を追加する方法を説明します。

## 基本的な流れ

1. React Iconsからアイコンをインポートする
2. アイコンのラッパーコンポーネントを定義する
3. メニュー項目の配列を作成する
4. ルート設定でメニュー項目を渡す

## 手順

### 1. React Iconsのインポート

`src/routes.tsx` のファイル上部で必要なアイコンをインポートします。

```typescript
import { HiHome, HiUserGroup, HiDocumentText } from 'react-icons/hi';
```

**アイコンの探し方:**
- React Icons公式サイト: https://react-icons.github.io/react-icons/
- Heroicons (`react-icons/hi`) を主に使用

### 2. アイコンコンポーネントの定義

React 19との型互換性のため、ラッパーコンポーネントを作成します。

```typescript
const YourIconName = (props: { className?: string }) => {
  const Icon = HiYourIcon as any;
  return <Icon {...props} />;
};
```

**例:**
```typescript
const HomeIcon = (props: { className?: string }) => {
  const Icon = HiHome as any;
  return <Icon {...props} />;
};

const UsersIcon = (props: { className?: string }) => {
  const Icon = HiUserGroup as any;
  return <Icon {...props} />;
};
```

**重要:** `as any` は React 19 と react-icons の型互換性問題を回避するために必要です。

### 3. メニュー項目の配列を作成

`src/routes.tsx` の「ページごとのメニュー項目」セクションに新しい配列を追加します。

```typescript
const yourPageMenuItems = [
  { path: ROUTES.store_MANAGEMENT, label: 'Home', icon: <HomeIcon className="w-5 h-5" /> },
  { path: ROUTES.YOUR_PAGE, label: 'YourPage', icon: <YourIconName className="w-5 h-5" /> },
  // 必要な分だけ項目を追加
];
```

**項目の説明:**
- `path`: ページのルート（`src/constants/routes.ts` で定義）
- `label`: サイドバーに表示されるテキスト
- `icon`: 手順2で定義したアイコンコンポーネントのJSX
- `className="w-5 h-5"`: アイコンのサイズ（Tailwind CSS）

### 4. ルート設定でメニュー項目を渡す

`src/routes.tsx` のルート定義で、作成したメニュー項目を渡します。

```typescript
<Route
  path={ROUTES.YOUR_PAGE}
  element={
    <PrivateRoute>
      <MainLayout menuItems={yourPageMenuItems}>
        <YourPage />
      </MainLayout>
    </PrivateRoute>
  }
/>
```

## 完全な例

**例: ユーザー一覧ページにサイドバーを追加**

### 1. アイコンをインポート

```typescript
import { HiHome, HiUserGroup, HiDocumentText } from 'react-icons/hi';
```

### 2. アイコンコンポーネントを定義

```typescript
const HomeIcon = (props: { className?: string }) => {
  const Icon = HiHome as any;
  return <Icon {...props} />;
};

const UsersIcon = (props: { className?: string }) => {
  const Icon = HiUserGroup as any;
  return <Icon {...props} />;
};

const PostureIcon = (props: { className?: string }) => {
  const Icon = HiDocumentText as any;
  return <Icon {...props} />;
};
```

### 3. メニュー項目の配列を作成

```typescript
const userListMenuItems = [
  { path: ROUTES.store_MANAGEMENT, label: 'Home', icon: <HomeIcon className="w-5 h-5" /> },
  { path: ROUTES.USER_LIST, label: 'Users', icon: <UsersIcon className="w-5 h-5" /> },
  { path: ROUTES.POSTURE_LIST, label: 'Postures', icon: <PostureIcon className="w-5 h-5" /> },
];
```

### 4. ルート設定

```typescript
<Route
  path={ROUTES.USER_LIST}
  element={
    <PrivateRoute>
      <MainLayout menuItems={userListMenuItems}>
        <UserList />
      </MainLayout>
    </PrivateRoute>
  }
/>
```

## よく使うアイコン

| 用途 | アイコン名 | インポート |
|------|-----------|-----------|
| ホーム | HiHome | `react-icons/hi` |
| ユーザー | HiUserGroup | `react-icons/hi` |
| ドキュメント | HiDocumentText | `react-icons/hi` |
| 店舗 | HiOfficeBuilding | `react-icons/hi` |
| 設定 | HiCog | `react-icons/hi` |
| グラフ | HiChartBar | `react-icons/hi` |
| カレンダー | HiCalendar | `react-icons/hi` |

## 注意点

- **アクティブ状態**: 現在のページのパスと一致する項目が自動的にアクティブ状態（背景色+シャドウ）になります
- **ホバー効果**: 非アクティブな項目は、マウスホバー時に半透明の背景色が表示されます
- **既存のメニュー項目を使う場合**: すでに定義されている `defaultMenuItems` や `storeManagementMenuItems` を使うこともできます
- **アイコンサイズ**: 統一感のため `w-5 h-5` (20px) を使用してください
- **型エラー**: `as any` を使用しているため、TypeScriptの型チェックは一部回避されています

## トラブルシューティング

### TypeScriptエラーが出る場合
- `as any` を使っているか確認
- アイコンのインポートが正しいか確認（`react-icons/hi` から）

### アイコンが表示されない場合
- `className="w-5 h-5"` を渡しているか確認
- コンポーネント名が正しいか確認

### メニューが表示されない場合
- `MainLayout` に `menuItems` プロップを渡しているか確認
- ルート定義が正しいか確認

## ファイル構成

関連するファイル:
- `src/routes.tsx` - メニュー項目の定義とルート設定
- `src/components/common/Sidebar.tsx` - サイドバーコンポーネント本体
- `src/components/common/MainLayout.tsx` - レイアウトコンポーネント
- `src/constants/routes.ts` - ルートパスの定義
